var ts = require('@mapbox/timespace');

var timestamp = Date.now();
var point = [-122.27783203125, 37.84015683604136];
var time = ts.getFuzzyLocalTimeFromPoint(timestamp, point);
//=> (a `moment-timezone` object â€“ see https://momentjs.com/timezone/)
console.log(time._z.name)

var coords = [
{ 'name': 'voronezh', 'coord': [51, 40, 0, 39, 12, 0]},
{ 'name': 'voronezh', 'coord': [51, 40, 0, 39, 12, 0]},
{ 'name': 'harkov', 'coord': [50, 0, 0, 36, 15, 0]},
{ 'name': 'habarovsk', 'coord': [48, 29, 0, 135, 5, 0]},
{ 'name': 'lugansk', 'coord': [48, 34, 0, 39, 20, 0]},
{ 'name': 'moskva', 'coord': [55, 45, 0, 37, 35, 0]},
{ 'name': 'vrindavan', 'coord': [28, 36, 0, 77, 12, 0]},
{ 'name': 'losanjeles', 'coord': [34, 3, 0, -118, -14, 0]},
{ 'name': 'kalkuta', 'coord': [22, 32, 0, 88, 22, 0]},
{ 'name': 'spb', 'coord': [59, 55, 0, 30, 15, 0]},
{ 'name': 'freiburg', 'coord': [48, 0, 0, 7, 52, 0]},
{ 'name': 'nikolaev', 'coord': [46, 58, 0, 32, 0, 0]},
{ 'name': 'ramenskoe', 'coord': [55, 39, 0, 37, 57, 0]},
{ 'name': 'minsk', 'coord': [53, 55, 0, 27, 35, 0]},
{ 'name': 'barnaul', 'coord': [53, 21, 0, 83, 46, 0]},
{ 'name': 'newdelhi', 'coord': [28, 39, 0, 77, 13, 0]},
{ 'name': 'dusseldorf', 'coord': [51, 13, 0, 6, 47, 0]},
{ 'name': 'koeln', 'coord': [50, 58, 0, 6, 56, 0]},
{ 'name': 'sochi', 'coord': [43, 36, 0, 39, 44, 0]},
{ 'name': 'novgorod', 'coord': [58, 31, 0, 30, 17, 0]},
{ 'name': 'london', 'coord': [51, 30, 0, 0, -7, 0]},
{ 'name': 'manchester', 'coord': [53, 30, 0, -2, -13, 0]},
{ 'name': 'panaji', 'coord': [15, 29, 0, 72, 50, 0]},
{ 'name': 'bombey', 'coord': [18, 58, 0, 72, 50, 0]},
{ 'name': 'pune', 'coord': [18, 32, 0, 73, 52, 0]},
{ 'name': 'simferopol', 'coord': [44, 56, 0, 34, 6, 0]},
{ 'name': 'manali', 'coord': [32, 16, 0, 77, 10, 0]},
{ 'name': 'pyatigorsk', 'coord': [44, 2, 0, 43, 3, 0]},
{ 'name': 'kirov', 'coord': [58, 36, 0, 49, 39, 0]},
{ 'name': 'washington', 'coord': [38, 53, 0, -77, -2, 0]},
{ 'name': 'gokarna', 'coord': [14, 33, 0, 74, 19, 0]},
{ 'name': 'telaviv', 'coord': [32, 4, 0, 34, 47, 0]},
{ 'name': 'tomsk', 'coord': [56, 29, 0, 84, 57, 0]},
{ 'name': 'kiel', 'coord': [54, 19, 0, 10, 8, 0]},
{ 'name': 'omsk', 'coord': [54, 58, 0, 73, 23, 0]},
{ 'name': 'tashkent', 'coord': [41, 18, 0, 68, 16, 0]},
{ 'name': 'udupi', 'coord': [13, 59, 0, 74, 75, 0]},
{ 'name': 'varshava', 'coord': [52, 13, 0, 21, 2, 0]},
{ 'name': 'donetsk', 'coord': [48, 0, 0, 37, 48, 0]},
{ 'name': 'tbilisi', 'coord': [41, 43, 0, 44, 47, 0]},
{ 'name': 'suhum', 'coord': [43, 0, 0, 41, 0, 0]},
{ 'name': 'kremenchug', 'coord': [49, 4, 0, 33, 25, 0]},
{ 'name': 'puno', 'coord': [-15, -50, 0, -70, -1, 0]},
{ 'name': 'vladivostok', 'coord': [43, 7, 0, 131, 54, 0]},
{ 'name': 'pernem', 'coord': [15, 72, 0, 73, 80, 0]},
{ 'name': 'krasnodar', 'coord': [45, 2, 0, 38, 59, 0]},
{ 'name': 'meadowlake', 'coord': [54, 7, 0, -108, -26, 0]},
{ 'name': 'toronto', 'coord': [42, 43, 0, -79, -24, 0]},
{ 'name': 'frederikton', 'coord': [45, 57, 0, -66, -38, 0]},
{ 'name': 'perm', 'coord': [58, 0, 0, 56, 14, 0]},
{ 'name': 'ufa', 'coord': [54, 44, 0, 55, 58, 0]},
{ 'name': 'smolensk', 'coord': [54, 46, 0, 32, 2, 0]},
{ 'name': 'krivoyrog', 'coord': [47, 57, 0, 33, 25, 0]},
{ 'name': 'petropavlovskkamchatskiy', 'coord': [53, 1, 0, 158, 39, 0]},
{ 'name': 'kophangan', 'coord': [9, 43, 0, 100, 0, 0]},
{ 'name': 'denpasar', 'coord': [-8, -39, 0, 115, 13, 0]},
{ 'name': 'mundelein', 'coord': [42, 16, 0, -88, 0, 0]},
{ 'name': 'bishkek', 'coord': [42, 52, 0, 74, 34, 0]},
{ 'name': 'vena', 'coord': [48, 12, 0, 16, 22, 0]},
{ 'name': 'staryyoskol', 'coord': [51, 17, 0, 37, 50, 0]},
{ 'name': 'edmonton', 'coord': [53, 32, 0, -113, -30, 0]},
{ 'name': 'novosibirsk', 'coord': [55, 1, 0, 82, 55, 0]},
{ 'name': 'erevan', 'coord': [40, 11, 0, 44, 31, 0]},
{ 'name': 'stavropol', 'coord': [45, 2, 0, 41, 58, 0]},
{ 'name': 'pokhara', 'coord': [28, 15, 0, 83, 58, 0]},
{ 'name': 'murmansk', 'coord': [68, 58, 0, 33, 5, 0]},
{ 'name': 'mirnyy', 'coord': [62, 32, 0, 113, 57, 0]},
{ 'name': 'riga', 'coord': [56, 56, 0, 24, 6, 0]},
{ 'name': 'surgut', 'coord': [61, 15, 0, 73, 26, 0]},
{ 'name': 'ryazan', 'coord': [54, 37, 0, 39, 43, 0]},
{ 'name': 'afiny', 'coord': [37, 58, 0, 23, 43, 0]},
{ 'name': 'chita', 'coord': [52, 2, 0, 113, 30, 0]},
{ 'name': 'poltava', 'coord': [49, 34, 0, 34, 34, 0]},
{ 'name': 'kazan', 'coord': [55, 47, 0, 49, 6, 0]},
{ 'name': 'aktau', 'coord': [43, 39, 0, 51, 9, 0]},
{ 'name': 'tallin', 'coord': [59, 26, 0, 24, 45, 0]},
{ 'name': 'yurmala', 'coord': [56, 58, 0, 23, 47, 0]},
{ 'name': 'semikarakorsk', 'coord': [47, 31, 0, 40, 48, 0]},
{ 'name': 'kolombo', 'coord': [6, 55, 0, 79, 50, 0]},
{ 'name': 'ulyanovsk', 'coord': [54, 19, 0, 48, 22, 0]},
{ 'name': 'tagbilaran', 'coord': [9, 39, 0, 123, 51, 0]},
{ 'name': 'gomel', 'coord': [52, 26, 0, 30, 59, 0]},
{ 'name': 'ekaterinburg', 'coord': [56, 50, 0, 60, 35, 0]},
{ 'name': 'vilnyus', 'coord': [54, 41, 0, 25, 17, 0]},
{ 'name': 'kostomuksha', 'coord': [64, 35, 0, 30, 36, 0]},
{ 'name': 'almaata', 'coord': [43, 15, 0, 76, 54, 0]},
{ 'name': 'kolomyya', 'coord': [48, 31, 0, 25, 2, 0]},
{ 'name': 'samara', 'coord': [53, 11, 0, 50, 7, 0]},
{ 'name': 'chelyabinsk', 'coord': [55, 9, 44, 61, 24, 11]},
{ 'name': 'tekeli', 'coord': [44, 51, 47, 78, 45, 51]},
{ 'name': 'volgograd', 'coord': [48, 41, 57, 44, 28, 24]},
{ 'name': 'tambov', 'coord': [52, 43, 0, 41, 26, 0]},
{ 'name': 'marsel', 'coord': [43, 17, 47, 5, 22, 12]},
{ 'name': 'madrid', 'coord': [40, 24, 0, -3, -41, -0]},
{ 'name': 'miami', 'coord': [25, 47, 0, -80, -13, -0]},
];
function get_timezone_for_location(record, index, array) {
	var lat = record['coord'][0] + record['coord'][1]/60.0 + record['coord'][2]/3600.0;
	var lng = record['coord'][3] + record['coord'][4]/60.0 + record['coord'][5]/3600.0;
	var point = [lng, lat];
	var timestamp = Date.now();
	var time = ts.getFuzzyLocalTimeFromPoint(timestamp, point);
	console.log(record['name'], ' ', lat, ' ', lng, ' ', time._z.name);
}
coords.forEach(get_timezone_for_location);